<script>
  <% if action_name == 'index' %>
    angular.module('RosaABF').service('IssuesInitializer', function(){
      return {
        project: '<%= @project.name_with_owner %>',
        filter: <%= render('projects/issues/filter.json', params: params).html_safe %>
      };
    });
  <% elsif action_name.in?(['new', 'create']) %>
    angular.module('RosaABF').service('IssueInitializer', function(){
      return {
        project: '<%= @project.name_with_owner %>',
        labels: <%= render('projects/issues/labels.json', project: @project).html_safe %>,
      };
    });
  <% end %>

  angular.module('RosaABF').service('LabelsInitializer', function(){
    return {
      project: '<%= @project.name_with_owner %>',
      labels: <%= render('projects/issues/labels.json', project: @project).html_safe %>
    };
  });
</script>
