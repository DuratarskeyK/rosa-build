<script>
  <% if action_name.in?(['index', 'pull_requests']) %>
    angular.module('RosaABF').service('IssuesInitializer', function(){
      return {
        project: '<%= @project.name_with_owner %>',
        filter: <%= render('filter.json', all_issues: @all_issues, params: params).html_safe %>
      };
    });
  <% elsif action_name.in?(['new', 'create']) %>
    angular.module('RosaABF').service('IssueInitializer', function(){
      return {
        project: '<%= @project.name_with_owner %>',
        labels: <%= render('projects/issues/labels.json', project: @project).html_safe %>,
      };
    });
  <% end %>
  <% if action_name == 'index' %>
    angular.module('RosaABF').service('LabelsInitializer', function(){
      return {
        project: '<%= @project.name_with_owner %>',
        labels: <%= render('projects/issues/labels.json', project: @project).html_safe %>
      };
    });
  <% end %>
</script>
