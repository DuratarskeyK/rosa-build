.block
  = render :partial => "git/shared/navigation"

  = render :partial => "git/shared/info"

- if @commit
  .block
    .content
      .inner
        = render :partial => "git/commits/commits", :object => [@commit]

.block
  .content
    .inner
      %h3= render_path

      .blob_header
        .size #{(@blob.size / 1024.0).round(3)} Kb
        .buttons
          - if @commit_hash
            #{link_to "Raw", raw_commit_path(@project, @commit_hash, @path)} #{link_to "Blame", blame_commit_path(@project, @commit_hash, @path)} #{link_to "History", commits_path(@project, @treeish, @path)}
          - else
            #{link_to "Raw", raw_path(@project, @treeish, @path)} #{link_to "Blame", blame_path(@project, @treeish, @path)} #{link_to "History", commits_path(@project, @treeish, @path)}
        .clear
      %table.table.blob
        %tr
          %td.lines
            :plain
              <pre>#{render_line_numbers(@blob.data.split("\n").length)}</pre>
          %td.blob
            :plain
              <pre>#{render_blob(@blob)}</pre>

- content_for :sidebar, render(:partial => 'git/shared/sidebar')

%a{ :name => "comments" }
.block#block-list
  .content
    %h2.title
      = t("layout.issues.comments_header")
    .inner
      %ul.list
        - @project.commit_comments(@commit).each do |comment|
          %li
            .left
              = link_to comment.user.uname, user_path(comment.user.uname)
            .item
              = comment.body
              %br
              %br

